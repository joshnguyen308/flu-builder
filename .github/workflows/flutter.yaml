name: Flutter app build

on: [push]
env:
  FLUTTER_VERSION: "2.10.0"
  GRADLE_VERSION: "7.5.1"

jobs:
  Flutter-Build:
    runs-on: ubuntu-latest
    steps:
    - name: echo github path 
      run: echo ${GITHUB_PATH}
    - name: update java repo 
      run: sudo apt-get update
    - name: install java jre
      run: sudo apt install openjdk-8-jre -y
    - name: install java jdk
      run: sudo apt install openjdk-8-jdk -y
    - name: install necessary packages
      run: sudo apt install apt-transport-https ca-certificates wget dirmngr gnupg software-properties-common unzip git wget -y
    - name: get flutter 
      run: wget https://storage.googleapis.com/flutter_infra_release/releases/stable/linux/flutter_linux_${FLUTTER_VERSION}-stable.tar.xz
    # - name: get gradle 
    #   run: wget https://downloads.gradle-dn.com/distributions/gradle-${GRADLE_VERSION}-bin.zip
    # - name: get commandlinetools
    #   run: wget https://dl.google.com/android/repository/commandlinetools-linux-8512546_latest.zip
    # - name: list files
    #   run: ls -lha && pwd
    - name: unzip files
      run: tar -xf flutter_linux_${FLUTTER_VERSION}-stable.tar.xz
    - name: location 
      run: ls -lha && pwd
    - name: change home dir
      run: GITHUB_RUNNER_HOME=$(pwd)
    - name: check one more time
      run: echo $GITHUB_RUNNER_HOME
    # - name: unzip files 
    #   run: unzip gradle-${GRADLE_VERSION}-bin.zip
    # - name: unzip files
    #   run: unzip commandlinetools-linux-8512546_latest.zip
    # - name: export PATH to runner
    #   run: echo "${GITHUB_PATH}/flutter/bin" >> $GITHUB_PATH
    # - name: check PATH
    #   run: echo "${GITHUB_PATH}/flutter/bin"
    # - name: list files
    #   run: ls -lha && pwd 
    # - name: verify GITHUB_PATH
    #   run: echo $GITHUB_PATH        
    # - name: append path 
    #   run: PATH=${GITHUB_PATH}/flutter/bin:${PATH}
    # - name: echo path 
    #   run: echo $PATH
    # - name: list 
    #   run: cd flutter && ls -lha && pwd
    # - name: verify flutter
    #   run: flutter doctor
  


